import{l as i,y as $,z as f,A as p,B as F,i as W,o,c as r,a as u,h as m,t as v,F as g,x as k,u as Y,q as M,_ as b}from"../app.49ecc465.js";const Q=e=>{const n=i().format("YYYY-MM-DD"),l=i(e).format("YYYY-MM-DD"),s=i(n).diff(l,"day");return s===0?"\u4ECA\u5929":s===1?"\u6628\u5929":s===2?"\u524D\u5929":s<4?"\u4E09\u5929\u5185":s<7?"\u4E00\u5468\u5185":"\u4E00\u5468\u524D"},G=(e,n=0)=>{if(typeof e.day!="number")return!1;const{year:l,month:s,day:c}=e;return i().isSame(i(`${l}-${s+n}-${c}`),"day")},x=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],H=x.concat(x),K=(e=0)=>H.slice(e,e+7),L=(e=new Date)=>(e.setDate(1),e.getDay()),P=(e=new Date)=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),w=(e=0,n=new Date)=>{const l=K(e),s=new Array(L(n)-e),c=[...Array(P(n)).keys()].map(h=>h+=1);return l.concat(s).concat(c)},R={class:"wrapper"},T={key:1,class:"header"},z={class:"switch"},j={class:"calendar"},q={class:"calendar-row"},O=$({__name:"index",emits:["handlePrevMonth","handleNextMonth"],setup(e,{emit:n}){const c="<<",h=">>",D=new Date,a=f(D.getMonth()),t=f(D.getFullYear()),B=!!p().day,C=!!p().header,N=!!p().extra;let d=f([]);const I=F(()=>Math.ceil(d.value.length/7));W(()=>{d.value=w(0,D)});const A=()=>{a.value===0&&(t.value-=1),a.value=a.value===0?11:--a.value,d.value=w(0,new Date(t.value,a.value)),n("handlePrevMonth",t.value,a.value)},S=()=>{a.value===11&&(t.value+=1),a.value=a.value===11?0:++a.value,d.value=w(0,new Date(t.value,a.value)),n("handleNextMonth",t.value,a.value)};return(y,U)=>(o(),r("div",{class:M(["calendar-wrapper",{"extra-wrapper":N}])},[u("div",R,[C?m(y.$slots,"header",{key:0,data:{year:t.value,month:a.value,handlePrevMonth:A,handleNextMonth:S}},void 0,!0):(o(),r("div",T,[u("div",z,[u("button",{class:"btn",onClick:A},v(c)),u("span",null,v(t.value)+" - "+v(a.value+1),1),u("button",{class:"btn",onClick:S},v(h))])])),u("div",j,[(o(!0),r(g,null,k(Array(Y(I)),(V,_)=>(o(),r("div",q,[(o(!0),r(g,null,k(Y(d).slice(_*7,(_+1)*7),E=>(o(),r("div",{class:M(["calendar-item",{"header-item":_===0}])},[B?m(y.$slots,"day",{key:1,data:{year:t.value,month:a.value,day:E}},void 0,!0):(o(),r("span",{key:0,class:M({today:Y(G)({year:t.value,month:a.value,day:E})})},v(E),3))],2))),256))]))),256))])]),m(y.$slots,"extra",{data:{year:t.value,month:a.value}},void 0,!0)],2))}});const X=b(O,[["__scopeId","data-v-39e312f3"]]);export{X as C,Q as c,G as i};
