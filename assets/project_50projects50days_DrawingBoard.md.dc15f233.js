import{_,e as f,o as D,c as F,d as i,i as h,a as o,b as A}from"./app.59924aca.js";const g={class:"wrapper view-demo-component"},w=i('<canvas id="canvas" width="500px" height="500px" data-v-67c33cc8></canvas><div class="opera" data-v-67c33cc8><div class="width" data-v-67c33cc8><span data-v-67c33cc8>\u5BBD\u5EA6</span><button class="minus" data-v-67c33cc8> - </button><input class="width-input" type="number" value="5" readonly data-v-67c33cc8><button class="add" data-v-67c33cc8> + </button></div><div class="color" data-v-67c33cc8><input type="color" class="color-input" data-v-67c33cc8></div><button class="clear" data-v-67c33cc8>clear</button><button class="save" data-v-67c33cc8>save</button></div>',2),x=[w],E={__name:"DrawingBoard",setup(C){return f(()=>{const a=document.querySelector("canvas"),s=a.getContext("2d");s.fillStyle="#fff";const l=document.querySelector(".width-input"),d=document.querySelector(".clear"),u=document.querySelector(".save"),e=document.querySelector(".color-input");let c=!1,t,r;e.value="black";let y=e.value;document.querySelector(".minus").onclick=()=>{l.value<6||(l.value=parseInt(l.value)-5)},document.querySelector(".add").onclick=()=>{l.value>=50||(l.value=parseInt(l.value)+5)},e.onchange=n=>y=n.target.value,a.onmousedown=n=>{t=n.offsetX,r=n.offsetY,c=!0},a.onmouseup=()=>{c=!1},a.onmousemove=n=>{c&&(b(t,r,n.offsetX,n.offsetY),t=n.offsetX,r=n.offsetY)},d.onclick=()=>{s.fillStyle="#fff",s.fillRect(0,0,a.width,a.height)};function b(n,p,m,v){s.beginPath(),s.moveTo(n,p),s.strokeStyle=y,s.lineWidth=l.value||5,s.lineCap="round",s.lineTo(m,v),s.stroke(),s.closePath()}u.onclick=()=>{const n=a.toDataURL(),p=document.createElement("a");p.href=n,p.download="\u753B\u677F",p.target="_blank",p.click(),p.remove()}}),(a,s)=>(D(),F("div",g,x))}},S=_(E,[["__scopeId","data-v-67c33cc8"]]),k=o("h1",{id:"drawing-board",tabindex:"-1"},[A("Drawing Board "),o("a",{class:"header-anchor",href:"#drawing-board","aria-hidden":"true"},"#")],-1),X=o("h2",{id:"_1-\u5B9E\u73B0\u6548\u679C",tabindex:"-1"},[A("1. \u5B9E\u73B0\u6548\u679C "),o("a",{class:"header-anchor",href:"#_1-\u5B9E\u73B0\u6548\u679C","aria-hidden":"true"},"#")],-1),Y=i(`<h2 id="_2-\u5177\u4F53\u5B9E\u73B0" tabindex="-1">2. \u5177\u4F53\u5B9E\u73B0 <a class="header-anchor" href="#_2-\u5177\u4F53\u5B9E\u73B0" aria-hidden="true">#</a></h2><p>\u8FD9\u4E2A\u4E3B\u8981\u662F\u57FA\u4E8E<code>canvas</code> \u5B9E\u73B0\u7684. \u6B63\u5DE7\u6628\u5929\u4E2D\u5348\u770Bb\u7AD9\u770B\u5230\u4E00\u4E2A\u5173\u4E8E<code>canvas</code> \u7684\u5165\u95E8\u89C6\u9891, \u7136\u540E\u60F3\u5230\u4E4B\u524D\u770B\u5230\u8FD9\u4E2A\u9879\u76EE\u91CC\u6709\u8FD9\u4E2A\u767D\u677F, \u6240\u4EE5\u5C31\u6839\u636E\u89C6\u9891\u91CC\u9762\u7684\u77E5\u8BC6\u628A\u8FD9\u4E2A\u5B9E\u73B0\u51FA\u6765\u4E86.</p><p>\u5728\u5B9E\u73B0\u7684\u8FC7\u7A0B\u4E2D, \u4E3B\u8981\u662F\u627E\u5230<code>canvas</code> \u5143\u7D20, \u83B7\u53D6\u4E0A\u9762\u7684<code>ctx</code> \u4E5F\u5C31\u662F\u753B\u7B14, \u7136\u540E\u5BF9\u5176\u8FDB\u884C\u76D1\u542C, \u968F\u540E\u8C03\u7528<code>canvas</code> \u7684\u5185\u7F6E\u65B9\u6CD5\u8FDB\u884C\u8DEF\u5F84\u63CF\u7ED8. \u5982\u4E0B\u4EE3\u7801\u6240\u793A</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> canvas </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">canvas</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> ctx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> canvas</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContext</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fillStyle </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#fff</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u4E3B\u8981\u7ED8\u753B\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">draw</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">startY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">endX</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">endY</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u5F00\u59CB\u7ED8\u753B</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">beginPath</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u8BBE\u7F6E\u8D77\u70B9: \u7531\u4E8E\u662F\u8FDE\u7EED\u7ED8\u753B, \u6240\u4EE5\u8BBE\u7F6E\u8D77\u70B9\u4E3A\u4E0A\u6B21\u843D\u70B9</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">moveTo</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">startY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">strokeStyle</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">color</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">lineWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">width</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">5</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u8FD9\u91CC\u4E3B\u8981\u662F\u4E3A\u4E86\u753B\u51FA\u6765\u7684\u7EBF\u6761\u662F\u5E73\u6ED1\u7684</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">lineCap</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">round</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">lineTo</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">endX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">endY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u63CF\u8FB9</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stroke</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u7ED3\u675F\u7ED8\u753B</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">closePath</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u76D1\u542C\u662F\u5426\u6309\u4E0B\u9F20\u6807: \u5F00\u59CB\u7ED8\u753B</span></span>
<span class="line"><span style="color:#A6ACCD;">canvas</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onmousedown</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">startX</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetX</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">startY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetY</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">paining</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u76D1\u542C\u662F\u5426\u62AC\u8D77\u9F20\u6807: \u7ED3\u675F\u7ED8\u753B</span></span>
<span class="line"><span style="color:#A6ACCD;">canvas</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onmouseup</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">paining</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u76D1\u542C\u9F20\u6807\u662F\u5426\u79FB\u52A8: \u6839\u636E\u79FB\u52A8\u8DEF\u5F84\u8FDB\u884C\u7ED8\u753B, \u540C\u65F6\u66F4\u65B0\u9F20\u6807\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">canvas</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onmousemove</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">paining</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">draw</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">startY</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">startX</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetX</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">startY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetY</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div>`,4),q=JSON.parse('{"title":"Drawing Board","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. \u5B9E\u73B0\u6548\u679C","slug":"_1-\u5B9E\u73B0\u6548\u679C","link":"#_1-\u5B9E\u73B0\u6548\u679C","children":[]},{"level":2,"title":"2. \u5177\u4F53\u5B9E\u73B0","slug":"_2-\u5177\u4F53\u5B9E\u73B0","link":"#_2-\u5177\u4F53\u5B9E\u73B0","children":[]}],"relativePath":"project/50projects50days/DrawingBoard.md","lastUpdated":1679545294000}'),T={name:"project/50projects50days/DrawingBoard.md"},j=Object.assign(T,{setup(C){return(a,s)=>(D(),F("div",null,[k,X,h(S),Y]))}});export{q as __pageData,j as default};
